let sliders=document.querySelectorAll(".swiper");if(sliders){for(let e=0;e<sliders.length;e++){let t=sliders[e];if(!t.classList.contains("swiper-container")){let e=t.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let o=t.innerHTML,r=document.createElement("div");r.classList.add("swiper-wrapper"),r.innerHTML=o,t.innerHTML="",t.appendChild(r),t.classList.add("swiper-container")}t.classList.contains("_gallery")}sliders_bild_callback()}function sliders_bild_callback(e){}if(document.querySelector(".duplicate__slider"))var duplicate_slider=new Swiper(".duplicate__slider-body",{effect:"fade",autoplay:{delay:3e3,disableOnInteraction:!1},observer:!0,observeParents:!0,slidesPerView:1,speed:800,loop:!0,pagination:{el:".duplicate .slider-control__count",type:"fraction"},navigation:{nextEl:".duplicate .slider-control__next",prevEl:".duplicate .slider-control__prev"}});if(document.querySelector(".brands__slider"))var brands_slider=new Swiper(".brands__slider",{autoplay:{delay:3e3,disableOnInteraction:!0},slidesPerView:7,centeredSlides:!0,observer:!0,observeParents:!0,spaceBetween:15,speed:800,loop:!0,navigation:{nextEl:".brands .slider-control__next",prevEl:".brands .slider-control__prev"},breakpoints:{0:{slidesPerView:1,spaceBetween:15},320:{slidesPerView:2,spaceBetween:15},480:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:4,spaceBetween:15},850:{slidesPerView:5,spaceBetween:15},992:{slidesPerView:6,spaceBetween:15},1200:{slidesPerView:7,spaceBetween:15}}});if(document.querySelector(".blog-slider"))var info_slider=new Swiper(".blog-slider",{slidesPerView:4,observer:!0,observeParents:!0,spaceBetween:35,speed:800,loop:!0,pagination:{el:".blog-count",type:"fraction"},navigation:{nextEl:".blog-next",prevEl:".blog-prev"},breakpoints:{0:{slidesPerView:1,spaceBetween:35},320:{slidesPerView:1,spaceBetween:35},600:{slidesPerView:2,spaceBetween:35},768:{slidesPerView:2,spaceBetween:35},992:{slidesPerView:3,spaceBetween:35},1205:{slidesPerView:4,spaceBetween:35}}});if(document.querySelector(".feedback-slider"))var feedback_slider=new Swiper(".feedback-slider",{slidesPerView:3,observer:!0,observeParents:!0,spaceBetween:70,speed:800,loop:!0,pagination:{el:".feedback-count",type:"fraction"},navigation:{nextEl:".feedback-next",prevEl:".feedback-prev"},breakpoints:{0:{slidesPerView:1},650:{slidesPerView:2},1205:{slidesPerView:3}}});function ibg(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}!function(e){var t=e.fn.select2.amd.require("select2/defaults");e.extend(t.defaults,{searchInputPlaceholder:""});var o=e.fn.select2.amd.require("select2/dropdown/search"),r=o.prototype.render;o.prototype.render=function(e){var t=r.apply(this,Array.prototype.slice.apply(arguments));return this.$search.attr("placeholder",this.options.get("searchInputPlaceholder")),t}}(window.jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var t=!1,o=!1,r=0,i=2e3,s=0,n=e,l=document,a=window,c=n(a),d=[],u=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||!1,h=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||!1;if(u)a.cancelAnimationFrame||(h=function(e){});else{var p=0;u=function(e,t){var o=(new Date).getTime(),r=Math.max(0,16-(o-p)),i=a.setTimeout((function(){e(o+r)}),r);return p=o+r,i},h=function(e){a.clearTimeout(e)}}var m=a.MutationObserver||a.WebKitMutationObserver||!1,f=Date.now||function(){return(new Date).getTime()},g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=l.currentScript||function(){var e=l.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),t=e?e.src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,w=function(){if(v)return v;var e=l.createElement("DIV"),t=e.style,o=navigator.userAgent,r=navigator.platform,i={};return i.haspointerlock="pointerLockElement"in l||"webkitPointerLockElement"in l||"mozPointerLockElement"in l,i.isopera="opera"in a,i.isopera12=i.isopera&&"getUserMedia"in navigator,i.isoperamini="[object OperaMini]"===Object.prototype.toString.call(a.operamini),i.isie="all"in l&&"attachEvent"in e&&!i.isopera,i.isieold=i.isie&&!("msInterpolationMode"in t),i.isie7=i.isie&&!i.isieold&&(!("documentMode"in l)||7===l.documentMode),i.isie8=i.isie&&"documentMode"in l&&8===l.documentMode,i.isie9=i.isie&&"performance"in a&&9===l.documentMode,i.isie10=i.isie&&"performance"in a&&10===l.documentMode,i.isie11="msRequestFullscreen"in e&&l.documentMode>=11,i.ismsedge="msCredentials"in a,i.ismozilla="MozAppearance"in t,i.iswebkit=!i.ismsedge&&"WebkitAppearance"in t,i.ischrome=i.iswebkit&&"chrome"in a,i.ischrome38=i.ischrome&&"touchAction"in t,i.ischrome22=!i.ischrome38&&i.ischrome&&i.haspointerlock,i.ischrome26=!i.ischrome38&&i.ischrome&&"transition"in t,i.cantouch="ontouchstart"in l.documentElement||"ontouchstart"in a,i.hasw3ctouch=!!a.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),i.hasmstouch=!i.hasw3ctouch&&(a.MSPointerEvent||!1),i.ismac=/^mac$/i.test(r),i.isios=i.cantouch&&/iphone|ipad|ipod/i.test(r),i.isios4=i.isios&&!("seal"in Object),i.isios7=i.isios&&"webkitHidden"in l,i.isios8=i.isios&&"hidden"in l,i.isios10=i.isios&&a.Proxy,i.isandroid=/android/i.test(o),i.haseventlistener="addEventListener"in e,i.trstyle=!1,i.hastransform=!1,i.hastranslate3d=!1,i.transitionstyle=!1,i.hastransition=!1,i.transitionend=!1,i.trstyle="transform",i.hastransform="transform"in t||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],o=0,r=e.length;o<r;o++)if(void 0!==t[e[o]]){i.trstyle=e[o];break}i.hastransform=!!i.trstyle}(),i.hastransform&&(t[i.trstyle]="translate3d(1px,2px,3px)",i.hastranslate3d=/translate3d/.test(t[i.trstyle])),i.transitionstyle="transition",i.prefixstyle="",i.transitionend="transitionend",i.hastransition="transition"in t||function(){i.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],o=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],r=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],s=0,n=e.length;s<n;s++)if(e[s]in t){i.transitionstyle=e[s],i.prefixstyle=o[s],i.transitionend=r[s];break}i.ischrome26&&(i.prefixstyle=o[1]),i.hastransition=i.transitionstyle}(),i.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(i.ischrome&&!i.ischrome38||i.isie)&&(e=[]);for(var o=0,r=e.length;o<r;o++){var s=e[o];if(t.cursor=s,t.cursor==s)return s}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),i.hasmousecapture="setCapture"in e,i.hasMutationObserver=!1!==m,e=null,v=i,i},b=function(e,p){function v(){var e=T.doc.css(M.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function b(e,t,o){var r=e.css(t),i=parseFloat(r);if(isNaN(i)){var s=3==(i=N[r]||0)?o?T.win.outerHeight()-T.win.innerHeight():T.win.outerWidth()-T.win.innerWidth():1;return T.isie8&&i&&(i+=1),s?i:0}return i}function x(e,t,o,r){T._bind(e,t,(function(r){var i={original:r=r||a.event,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==t?(r.wheelDeltaX&&(i.deltaX=-.025*r.wheelDeltaX),r.wheelDeltaY&&(i.deltaY=-.025*r.wheelDeltaY),!i.deltaY&&!i.deltaX&&(i.deltaY=-.025*r.wheelDelta)):i.deltaY=r.detail,o.call(e,i)}),r)}function S(e,t,o,r){T.scrollrunning||(T.newscrolly=T.getScrollTop(),T.newscrollx=T.getScrollLeft(),H=f());var i=f()-H;if(H=f(),i>350?D=1:D+=(2-D)/10,t=t*D|0,e=e*D|0){if(r)if(e<0){if(T.getScrollLeft()>=T.page.maxw)return!0}else if(T.getScrollLeft()<=0)return!0;var s=e>0?1:-1;I!==s&&(T.scrollmom&&T.scrollmom.stop(),T.newscrollx=T.getScrollLeft(),I=s),T.lastdeltax-=e}if(t){if(function(){var e=T.getScrollTop();if(t<0){if(e>=T.page.maxh)return!0}else if(e<=0)return!0}()){if(_.nativeparentscrolling&&o&&!T.ispage&&!T.zoomactive)return!0;var n=T.view.h>>1;T.newscrolly<-n?(T.newscrolly=-n,t=-1):T.newscrolly>T.page.maxh+n?(T.newscrolly=T.page.maxh+n,t=1):t=0}var l=t>0?1:-1;R!==l&&(T.scrollmom&&T.scrollmom.stop(),T.newscrolly=T.getScrollTop(),R=l),T.lastdeltay-=t}(t||e)&&T.synched("relativexy",(function(){var e=T.lastdeltay+T.newscrolly;T.lastdeltay=0;var t=T.lastdeltax+T.newscrollx;T.lastdeltax=0,T.rail.drag||T.doScrollPos(t,e)}))}function k(e,t,o){var r,i;return!(o||!Y)||(0===e.deltaMode?(r=-e.deltaX*(_.mousescrollstep/54)|0,i=-e.deltaY*(_.mousescrollstep/54)|0):1===e.deltaMode&&(r=-e.deltaX*_.mousescrollstep*50/80|0,i=-e.deltaY*_.mousescrollstep*50/80|0),t&&_.oneaxismousemode&&0===r&&i&&(r=i,i=0,o&&(r<0?T.getScrollLeft()>=T.page.maxw:T.getScrollLeft()<=0)&&(i=r,r=0)),T.isrtlmode&&(r=-r),S(r,i,o,!0)?void(o&&(Y=!0)):(Y=!1,e.stopImmediatePropagation(),e.preventDefault()))}var T=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var z=n("body"),_=this.opt={doc:z,win:!1};if(n.extend(_,g),_.snapbackspeed=80,e)for(var E in _)void 0!==e[E]&&(_[E]=e[E]);if(_.disablemutationobserver&&(m=!1),this.doc=_.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(_.win?_.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==_.win,this.win=_.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=z,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=_.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==_.rtlmode){var L=this.win[0]==a?this.body:this.win,P=L.css("writing-mode")||L.css("-webkit-writing-mode")||L.css("-ms-writing-mode")||L.css("-moz-writing-mode");"horizontal-tb"==P||"lr-tb"==P||""===P?(this.isrtlmode="rtl"==L.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==P||"tb"==P||"tb-rl"==P||"rl-tb"==P,this.isvertical="vertical-rl"==P||"tb"==P||"tb-rl"==P)}else this.isrtlmode=!0===_.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==_.scrollbarid)this.id=_.scrollbarid;else do{this.id="ascrail"+i++}while(l.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=_.overflowx,this.overflowy=_.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=w();var M=n.extend({},this.detected);this.canhwscroll=M.hastransform&&_.hwacceleration,this.ishwscroll=this.canhwscroll&&T.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(M.iswebkit||M.isie||M.isie11):this.hasreversehr=!(M.iswebkit||M.isie&&!M.isie10&&!M.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(M.cantouch||!M.hasw3ctouch&&!M.hasmstouch)&&(!M.cantouch||M.isios||M.isandroid||!M.iswebkit&&!M.ismozilla)||(this.istouchcapable=!0),_.enablemouselockapi||(M.hasmousecapture=!1,M.haspointerlock=!1),this.debounced=function(e,t,o){T&&(T.delaylist[e]||(T.delaylist[e]={h:u((function(){T.delaylist[e].fn.call(T),T.delaylist[e]=!1}),o)},t.call(T)),T.delaylist[e].fn=t)},this.synched=function(e,t){T.synclist[e]?T.synclist[e]=t:(T.synclist[e]=t,u((function(){T&&(T.synclist[e]&&T.synclist[e].call(T),T.synclist[e]=null)})))},this.unsynched=function(e){T.synclist[e]&&(T.synclist[e]=!1)},this.css=function(e,t){for(var o in t)T.saved.css.push([e,o,e.css(o)]),e.css(o,t[o])},this.scrollTop=function(e){return void 0===e?T.getScrollTop():T.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?T.getScrollLeft():T.setScrollLeft(e)};var C=function(e,t,o,r,i,s,n){this.st=e,this.ed=t,this.spd=o,this.p1=r||0,this.p2=i||1,this.p3=s||0,this.p4=n||1,this.ts=f(),this.df=t-e};if(C.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(f()-this.ts)/this.spd},getNow:function(){var e=(f()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=f(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},M.hastranslate3d&&M.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[13]:-t[5];if(T.timerscroll&&T.timerscroll.bz)return T.timerscroll.bz.getNow()}return T.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[12]:-t[4];if(T.timerscroll&&T.timerscroll.bh)return T.timerscroll.bh.getNow()}return T.doc.translate.x},this.notifyScrollEvent=function(e){var t=l.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,a,1),t.niceevent=!0,e.dispatchEvent(t)};var B=this.isrtlmode?1:-1;M.hastranslate3d&&_.enabletranslate3d?(this.setScrollTop=function(e,t){T.doc.translate.y=e,T.doc.translate.ty=-1*e+"px",T.doc.css(M.trstyle,"translate3d("+T.doc.translate.tx+","+T.doc.translate.ty+",0)"),t||T.notifyScrollEvent(T.win[0])},this.setScrollLeft=function(e,t){T.doc.translate.x=e,T.doc.translate.tx=e*B+"px",T.doc.css(M.trstyle,"translate3d("+T.doc.translate.tx+","+T.doc.translate.ty+",0)"),t||T.notifyScrollEvent(T.win[0])}):(this.setScrollTop=function(e,t){T.doc.translate.y=e,T.doc.translate.ty=-1*e+"px",T.doc.css(M.trstyle,"translate("+T.doc.translate.tx+","+T.doc.translate.ty+")"),t||T.notifyScrollEvent(T.win[0])},this.setScrollLeft=function(e,t){T.doc.translate.x=e,T.doc.translate.tx=e*B+"px",T.doc.css(M.trstyle,"translate("+T.doc.translate.tx+","+T.doc.translate.ty+")"),t||T.notifyScrollEvent(T.win[0])})}else this.getScrollTop=function(){return T.docscroll.scrollTop()},this.setScrollTop=function(e){T.docscroll.scrollTop(e)},this.getScrollLeft=function(){return T.hasreversehr?T.detected.ismozilla?T.page.maxw-Math.abs(T.docscroll.scrollLeft()):T.page.maxw-T.docscroll.scrollLeft():T.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout((function(){if(T)return T.hasreversehr&&(e=T.detected.ismozilla?-(T.page.maxw-e):T.page.maxw-e),T.docscroll.scrollLeft(e)}),1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var o=e.target||e.srcElement||e||!1;o&&o.id!=t;)o=o.parentNode||!1;return!1!==o};var N={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:a.pageYOffset||l.documentElement.scrollTop,left:a.pageXOffset||l.documentElement.scrollLeft}},this.getOffset=function(){if(T.isfixed){var e=T.win.offset(),t=T.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var o=T.win.offset();if(!T.viewport)return o;var r=T.viewport.offset();return{top:o.top-r.top,left:o.left-r.left}},this.updateScrollBar=function(e){var t,o;if(T.ishwscroll)T.rail.css({height:T.win.innerHeight()-(_.railpadding.top+_.railpadding.bottom)}),T.railh&&T.railh.css({width:T.win.innerWidth()-(_.railpadding.left+_.railpadding.right)});else{var r=T.getOffset();if((t={top:r.top,left:r.left-(_.railpadding.left+_.railpadding.right)}).top+=b(T.win,"border-top-width",!0),t.left+=T.rail.align?T.win.outerWidth()-b(T.win,"border-right-width")-T.rail.width:b(T.win,"border-left-width"),(o=_.railoffset)&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left)),T.railslocked||T.rail.css({top:t.top,left:t.left,height:(e?e.h:T.win.innerHeight())-(_.railpadding.top+_.railpadding.bottom)}),T.zoom&&T.zoom.css({top:t.top+1,left:1==T.rail.align?t.left-20:t.left+T.rail.width+4}),T.railh&&!T.railslocked){t={top:r.top,left:r.left},(o=_.railhoffset)&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left));var i=T.railh.align?t.top+b(T.win,"border-top-width",!0)+T.win.innerHeight()-T.railh.height:t.top+b(T.win,"border-top-width",!0),s=t.left+b(T.win,"border-left-width");T.railh.css({top:i-(_.railpadding.top+_.railpadding.bottom),left:s,width:T.railh.width})}}},this.doRailClick=function(e,t,o){var r,i,s,n;T.railslocked||(T.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+l.documentElement.scrollLeft,e.pageY=e.clientY+l.documentElement.scrollTop),t?(r=o?T.doScrollLeft:T.doScrollTop,s=o?(e.pageX-T.railh.offset().left-T.cursorwidth/2)*T.scrollratio.x:(e.pageY-T.rail.offset().top-T.cursorheight/2)*T.scrollratio.y,T.unsynched("relativexy"),r(0|s)):(r=o?T.doScrollLeftBy:T.doScrollBy,s=o?T.scroll.x:T.scroll.y,n=o?e.pageX-T.railh.offset().left:e.pageY-T.rail.offset().top,i=o?T.view.w:T.view.h,r(s>=n?i:-i)))},T.newscrolly=T.newscrollx=0,T.hasanimationframe="requestAnimationFrame"in a,T.hascancelanimationframe="cancelAnimationFrame"in a,T.hasborderbox=!1,this.init=function(){if(T.saved.css=[],M.isoperamini)return!0;if(M.isandroid&&!("hidden"in l))return!0;_.emulatetouch=_.emulatetouch||_.touchbehavior,T.hasborderbox=a.getComputedStyle&&"border-box"===a.getComputedStyle(l.body)["box-sizing"];var e={"overflow-y":"hidden"};if((M.isie11||M.isie10)&&(e["-ms-overflow-style"]="none"),T.ishwscroll&&(this.doc.css(M.transitionstyle,M.prefixstyle+"transform 0ms ease-out"),M.transitionend&&T.bind(T.doc,M.transitionend,T.onScrollTransitionEnd,!1)),T.zindex="auto",T.ispage||"auto"!=_.zindex?T.zindex=_.zindex:T.zindex=function(){var e=T.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}()||"auto",!T.ispage&&"auto"!=T.zindex&&T.zindex>s&&(s=T.zindex),T.isie&&0===T.zindex&&"auto"==_.zindex&&(T.zindex="auto"),!T.ispage||!M.isieold){var i=T.docscroll;T.ispage&&(i=T.haswrapper?T.win:T.doc),T.css(i,e),T.ispage&&(M.isie11||M.isie)&&T.css(n("html"),e),!M.isios||T.ispage||T.haswrapper||T.css(z,{"-webkit-overflow-scrolling":"touch"});var d=n(l.createElement("div"));d.css({position:"relative",top:0,float:"right",width:_.cursorwidth,height:0,"background-color":_.cursorcolor,border:_.cursorborder,"background-clip":"padding-box","-webkit-border-radius":_.cursorborderradius,"-moz-border-radius":_.cursorborderradius,"border-radius":_.cursorborderradius}),d.addClass("nicescroll-cursors"),T.cursor=d;var u=n(l.createElement("div"));u.attr("id",T.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,f=["left","right","top","bottom"];for(var g in f)p=f[g],(h=_.railpadding[p]||0)&&u.css("padding-"+p,h+"px");u.append(d),u.width=Math.max(parseFloat(_.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:T.zindex,background:_.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==_.railalign?0:1,T.rail=u,T.rail.drag=!1;var v,w=!1;if(!_.boxzoom||T.ispage||M.isieold||(w=l.createElement("div"),T.bind(w,"click",T.doZoom),T.bind(w,"mouseenter",(function(){T.zoom.css("opacity",_.cursoropacitymax)})),T.bind(w,"mouseleave",(function(){T.zoom.css("opacity",_.cursoropacitymin)})),T.zoom=n(w),T.zoom.css({cursor:"pointer",zIndex:T.zindex,backgroundImage:"url("+_.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),_.dblclickzoom&&T.bind(T.win,"dblclick",T.doZoom),M.cantouch&&_.gesturezoom&&(T.ongesturezoom=function(e){return e.scale>1.5&&T.doZoomIn(e),e.scale<.8&&T.doZoomOut(e),T.cancelEvent(e)},T.bind(T.win,"gestureend",T.ongesturezoom))),T.railh=!1,_.horizrailenabled&&(T.css(i,{overflowX:"hidden"}),(d=n(l.createElement("div"))).css({position:"absolute",top:0,height:_.cursorwidth,width:0,backgroundColor:_.cursorcolor,border:_.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":_.cursorborderradius,"-moz-border-radius":_.cursorborderradius,"border-radius":_.cursorborderradius}),M.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),T.cursorh=d,(v=n(l.createElement("div"))).attr("id",T.id+"-hr"),v.addClass("nicescroll-rails nicescroll-rails-hr"),v.height=Math.max(parseFloat(_.cursorwidth),d.outerHeight()),v.css({height:v.height+"px",zIndex:T.zindex,background:_.background}),v.append(d),v.visibility=!0,v.scrollable=!0,v.align="top"==_.railvalign?0:1,T.railh=v,T.railh.drag=!1),T.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),T.body.append(u),T.railh&&(v.css({position:"fixed",left:0,width:"100%"}),v.css(v.align?{bottom:0}:{top:0}),T.body.append(v));else{if(T.ishwscroll){"static"==T.win.css("position")&&T.css(T.win,{position:"relative"});var b="HTML"==T.win[0].nodeName?T.body:T.win;n(b).scrollTop(0).scrollLeft(0),T.zoom&&(T.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),b.append(T.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),b.append(u),v&&(v.css({position:"absolute",left:0,bottom:0}),v.css(v.align?{bottom:0}:{top:0}),b.append(v))}else{T.isfixed="fixed"==T.win.css("position");var x=T.isfixed?"fixed":"absolute";T.isfixed||(T.viewport=T.getViewport(T.win[0])),T.viewport&&(T.body=T.viewport,/fixed|absolute/.test(T.viewport.css("position"))||T.css(T.viewport,{position:"relative"})),u.css({position:x}),T.zoom&&T.zoom.css({position:x}),T.updateScrollBar(),T.body.append(u),T.zoom&&T.body.append(T.zoom),T.railh&&(v.css({position:x}),T.body.append(v))}M.isios&&T.css(T.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),_.disableoutline&&(M.isie&&T.win.attr("hideFocus","true"),M.iswebkit&&T.win.css("outline","none"))}if(!1===_.autohidemode?(T.autohidedom=!1,T.rail.css({opacity:_.cursoropacitymax}),T.railh&&T.railh.css({opacity:_.cursoropacitymax})):!0===_.autohidemode||"leave"===_.autohidemode?(T.autohidedom=n().add(T.rail),M.isie8&&(T.autohidedom=T.autohidedom.add(T.cursor)),T.railh&&(T.autohidedom=T.autohidedom.add(T.railh)),T.railh&&M.isie8&&(T.autohidedom=T.autohidedom.add(T.cursorh))):"scroll"==_.autohidemode?(T.autohidedom=n().add(T.rail),T.railh&&(T.autohidedom=T.autohidedom.add(T.railh))):"cursor"==_.autohidemode?(T.autohidedom=n().add(T.cursor),T.railh&&(T.autohidedom=T.autohidedom.add(T.cursorh))):"hidden"==_.autohidemode&&(T.autohidedom=!1,T.hide(),T.railslocked=!1),M.cantouch||T.istouchcapable||_.emulatetouch||M.hasmstouch){T.scrollmom=new y(T),T.ontouchstart=function(e){if(T.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(T.hasmoving=!1,T.scrollmom.timer&&(T.triggerScrollEnd(),T.scrollmom.stop()),!T.railslocked){var t=T.getTarget(e);if(t&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return T.stopPropagation(e);var o="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),T.forcescreen){var r=e;(e={original:e.original?e.original:e}).clientX=r.screenX,e.clientY=r.screenY}if(T.rail.drag={x:e.clientX,y:e.clientY,sx:T.scroll.x,sy:T.scroll.y,st:T.getScrollTop(),sl:T.getScrollLeft(),pt:2,dl:!1,tg:t},T.ispage||!_.directionlockdeadzone)T.rail.drag.dl="f";else{var i={w:c.width(),h:c.height()},s=T.getContentSize(),l=s.h-i.h,a=s.w-i.w;T.rail.scrollable&&!T.railh.scrollable?T.rail.drag.ck=l>0&&"v":!T.rail.scrollable&&T.railh.scrollable?T.rail.drag.ck=a>0&&"h":T.rail.drag.ck=!1}if(_.emulatetouch&&T.isiframe&&M.isie){var d=T.win.position();T.rail.drag.x+=d.left,T.rail.drag.y+=d.top}if(T.hasmoving=!1,T.lastmouseup=!1,T.scrollmom.reset(e.clientX,e.clientY),t&&o){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return M.hasmousecapture&&t.setCapture(),_.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(T.hasmoving)return!1;t._onclick.call(this,e)}),T.cancelEvent(e)):T.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(n(t).attr("type"))&&(T.preventclick={tg:t,click:!1})}}},T.ontouchend=function(e){if(!T.rail.drag)return!0;if(2==T.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;T.rail.drag=!1;var t="mouseup"===e.type;if(T.hasmoving&&(T.scrollmom.doMomentum(),T.lastmouseup=!0,T.hideCursor(),M.hasmousecapture&&l.releaseCapture(),t))return T.cancelEvent(e)}else if(1==T.rail.drag.pt)return T.onmouseup(e)};var S=_.emulatetouch&&T.isiframe&&!M.hasmousecapture,k=.3*_.directionlockdeadzone|0;T.ontouchmove=function(e,t){if(!T.rail.drag)return!0;if(e.targetTouches&&_.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==T.rail.drag.pt){var o,r;if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),r=o=0,S&&!t){var i=T.win.position();r=-i.left,o=-i.top}var s=e.clientY+o,n=s-T.rail.drag.y,a=e.clientX+r,c=a-T.rail.drag.x,d=T.rail.drag.st-n;if(T.ishwscroll&&_.bouncescroll)d<0?d=Math.round(d/2):d>T.page.maxh&&(d=T.page.maxh+Math.round((d-T.page.maxh)/2));else if(d<0?(d=0,s=0):d>T.page.maxh&&(d=T.page.maxh,s=0),0===s&&!T.hasmoving)return T.ispage||(T.rail.drag=!1),!0;var u=T.getScrollLeft();if(T.railh&&T.railh.scrollable&&(u=T.isrtlmode?c-T.rail.drag.sl:T.rail.drag.sl-c,T.ishwscroll&&_.bouncescroll?u<0?u=Math.round(u/2):u>T.page.maxw&&(u=T.page.maxw+Math.round((u-T.page.maxw)/2)):(u<0&&(u=0,a=0),u>T.page.maxw&&(u=T.page.maxw,a=0))),!T.hasmoving){if(T.rail.drag.y===e.clientY&&T.rail.drag.x===e.clientX)return T.cancelEvent(e);var h=Math.abs(n),p=Math.abs(c),m=_.directionlockdeadzone;if(T.rail.drag.ck?"v"==T.rail.drag.ck?p>m&&h<=k?T.rail.drag=!1:h>m&&(T.rail.drag.dl="v"):"h"==T.rail.drag.ck&&(h>m&&p<=k?T.rail.drag=!1:p>m&&(T.rail.drag.dl="h")):h>m&&p>m?T.rail.drag.dl="f":h>m?T.rail.drag.dl=p>k?"f":"v":p>m&&(T.rail.drag.dl=h>k?"f":"h"),!T.rail.drag.dl)return T.cancelEvent(e);T.triggerScrollStart(e.clientX,e.clientY,0,0,0),T.hasmoving=!0}return T.preventclick&&!T.preventclick.click&&(T.preventclick.click=T.preventclick.tg.onclick||!1,T.preventclick.tg.onclick=T.onpreventclick),T.rail.drag.dl&&("v"==T.rail.drag.dl?u=T.rail.drag.sl:"h"==T.rail.drag.dl&&(d=T.rail.drag.st)),T.synched("touchmove",(function(){T.rail.drag&&2==T.rail.drag.pt&&(T.prepareTransition&&T.resetTransition(),T.rail.scrollable&&T.setScrollTop(d),T.scrollmom.update(a,s),T.railh&&T.railh.scrollable?(T.setScrollLeft(u),T.showCursor(d,u)):T.showCursor(d),M.isie10&&l.selection.clear())})),T.cancelEvent(e)}return 1==T.rail.drag.pt?T.onmousemove(e):void 0},T.ontouchstartCursor=function(e,t){if(!T.rail.drag||3==T.rail.drag.pt){if(T.locked)return T.cancelEvent(e);T.cancelScroll(),T.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:T.scroll.x,sy:T.scroll.y,pt:3,hr:!!t};var o=T.getTarget(e);return!T.ispage&&M.hasmousecapture&&o.setCapture(),T.isiframe&&!M.hasmousecapture&&(T.saved.csspointerevents=T.doc.css("pointer-events"),T.css(T.doc,{"pointer-events":"none"})),T.cancelEvent(e)}},T.ontouchendCursor=function(e){if(T.rail.drag){if(M.hasmousecapture&&l.releaseCapture(),T.isiframe&&!M.hasmousecapture&&T.doc.css("pointer-events",T.saved.csspointerevents),3!=T.rail.drag.pt)return;return T.rail.drag=!1,T.cancelEvent(e)}},T.ontouchmoveCursor=function(e){if(T.rail.drag){if(3!=T.rail.drag.pt)return;if(T.cursorfreezed=!0,T.rail.drag.hr){T.scroll.x=T.rail.drag.sx+(e.touches[0].clientX-T.rail.drag.x),T.scroll.x<0&&(T.scroll.x=0);var t=T.scrollvaluemaxw;T.scroll.x>t&&(T.scroll.x=t)}else{T.scroll.y=T.rail.drag.sy+(e.touches[0].clientY-T.rail.drag.y),T.scroll.y<0&&(T.scroll.y=0);var o=T.scrollvaluemax;T.scroll.y>o&&(T.scroll.y=o)}return T.synched("touchmove",(function(){T.rail.drag&&3==T.rail.drag.pt&&(T.showCursor(),T.rail.drag.hr?T.doScrollLeft(Math.round(T.scroll.x*T.scrollratio.x),_.cursordragspeed):T.doScrollTop(Math.round(T.scroll.y*T.scrollratio.y),_.cursordragspeed))})),T.cancelEvent(e)}}}if(T.onmousedown=function(e,t){if(!T.rail.drag||1==T.rail.drag.pt){if(T.railslocked)return T.cancelEvent(e);T.cancelScroll(),T.rail.drag={x:e.clientX,y:e.clientY,sx:T.scroll.x,sy:T.scroll.y,pt:1,hr:t||!1};var o=T.getTarget(e);return M.hasmousecapture&&o.setCapture(),T.isiframe&&!M.hasmousecapture&&(T.saved.csspointerevents=T.doc.css("pointer-events"),T.css(T.doc,{"pointer-events":"none"})),T.hasmoving=!1,T.cancelEvent(e)}},T.onmouseup=function(e){if(T.rail.drag)return 1!=T.rail.drag.pt||(M.hasmousecapture&&l.releaseCapture(),T.isiframe&&!M.hasmousecapture&&T.doc.css("pointer-events",T.saved.csspointerevents),T.rail.drag=!1,T.cursorfreezed=!1,T.hasmoving&&T.triggerScrollEnd(),T.cancelEvent(e))},T.onmousemove=function(e){if(T.rail.drag){if(1!==T.rail.drag.pt)return;if(M.ischrome&&0===e.which)return T.onmouseup(e);if(T.cursorfreezed=!0,T.hasmoving||T.triggerScrollStart(e.clientX,e.clientY,0,0,0),T.hasmoving=!0,T.rail.drag.hr){T.scroll.x=T.rail.drag.sx+(e.clientX-T.rail.drag.x),T.scroll.x<0&&(T.scroll.x=0);var t=T.scrollvaluemaxw;T.scroll.x>t&&(T.scroll.x=t)}else{T.scroll.y=T.rail.drag.sy+(e.clientY-T.rail.drag.y),T.scroll.y<0&&(T.scroll.y=0);var o=T.scrollvaluemax;T.scroll.y>o&&(T.scroll.y=o)}return T.synched("mousemove",(function(){T.cursorfreezed&&(T.showCursor(),T.rail.drag.hr?T.scrollLeft(Math.round(T.scroll.x*T.scrollratio.x)):T.scrollTop(Math.round(T.scroll.y*T.scrollratio.y)))})),T.cancelEvent(e)}T.checkarea=0},M.cantouch||_.emulatetouch)T.onpreventclick=function(e){if(T.preventclick)return T.preventclick.tg.onclick=T.preventclick.click,T.preventclick=!1,T.cancelEvent(e)},T.onclick=!M.isios&&function(e){return!T.lastmouseup||(T.lastmouseup=!1,T.cancelEvent(e))},_.grabcursorenabled&&M.cursorgrabvalue&&(T.css(T.ispage?T.doc:T.win,{cursor:M.cursorgrabvalue}),T.css(T.rail,{cursor:M.cursorgrabvalue}));else{var E=function(e){if(T.selectiondrag){if(e){var t=T.win.outerHeight(),o=e.pageY-T.selectiondrag.top;o>0&&o<t&&(o=0),o>=t&&(o-=t),T.selectiondrag.df=o}if(0!==T.selectiondrag.df){var r=-2*T.selectiondrag.df/6|0;T.doScrollBy(r),T.debounced("doselectionscroll",(function(){E()}),50)}}};T.hasTextSelected="getSelection"in l?function(){return l.getSelection().rangeCount>0}:"selection"in l?function(){return"None"!=l.selection.type}:function(){return!1},T.onselectionstart=function(e){T.ispage||(T.selectiondrag=T.win.offset())},T.onselectionend=function(e){T.selectiondrag=!1},T.onselectiondrag=function(e){T.selectiondrag&&T.hasTextSelected()&&T.debounced("selectionscroll",(function(){E(e)}),250)}}if(M.hasw3ctouch?(T.css(T.ispage?n("html"):T.win,{"touch-action":"none"}),T.css(T.rail,{"touch-action":"none"}),T.css(T.cursor,{"touch-action":"none"}),T.bind(T.win,"pointerdown",T.ontouchstart),T.bind(l,"pointerup",T.ontouchend),T.delegate(l,"pointermove",T.ontouchmove)):M.hasmstouch?(T.css(T.ispage?n("html"):T.win,{"-ms-touch-action":"none"}),T.css(T.rail,{"-ms-touch-action":"none"}),T.css(T.cursor,{"-ms-touch-action":"none"}),T.bind(T.win,"MSPointerDown",T.ontouchstart),T.bind(l,"MSPointerUp",T.ontouchend),T.delegate(l,"MSPointerMove",T.ontouchmove),T.bind(T.cursor,"MSGestureHold",(function(e){e.preventDefault()})),T.bind(T.cursor,"contextmenu",(function(e){e.preventDefault()}))):M.cantouch&&(T.bind(T.win,"touchstart",T.ontouchstart,!1,!0),T.bind(l,"touchend",T.ontouchend,!1,!0),T.bind(l,"touchcancel",T.ontouchend,!1,!0),T.delegate(l,"touchmove",T.ontouchmove,!1,!0)),_.emulatetouch&&(T.bind(T.win,"mousedown",T.ontouchstart,!1,!0),T.bind(l,"mouseup",T.ontouchend,!1,!0),T.bind(l,"mousemove",T.ontouchmove,!1,!0)),(_.cursordragontouch||!M.cantouch&&!_.emulatetouch)&&(T.rail.css({cursor:"default"}),T.railh&&T.railh.css({cursor:"default"}),T.jqbind(T.rail,"mouseenter",(function(){if(!T.ispage&&!T.win.is(":visible"))return!1;T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0})),T.jqbind(T.rail,"mouseleave",(function(){T.rail.active=!1,T.rail.drag||T.hideCursor()})),_.sensitiverail&&(T.bind(T.rail,"click",(function(e){T.doRailClick(e,!1,!1)})),T.bind(T.rail,"dblclick",(function(e){T.doRailClick(e,!0,!1)})),T.bind(T.cursor,"click",(function(e){T.cancelEvent(e)})),T.bind(T.cursor,"dblclick",(function(e){T.cancelEvent(e)}))),T.railh&&(T.jqbind(T.railh,"mouseenter",(function(){if(!T.ispage&&!T.win.is(":visible"))return!1;T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0})),T.jqbind(T.railh,"mouseleave",(function(){T.rail.active=!1,T.rail.drag||T.hideCursor()})),_.sensitiverail&&(T.bind(T.railh,"click",(function(e){T.doRailClick(e,!1,!0)})),T.bind(T.railh,"dblclick",(function(e){T.doRailClick(e,!0,!0)})),T.bind(T.cursorh,"click",(function(e){T.cancelEvent(e)})),T.bind(T.cursorh,"dblclick",(function(e){T.cancelEvent(e)}))))),_.cursordragontouch&&(this.istouchcapable||M.cantouch)&&(T.bind(T.cursor,"touchstart",T.ontouchstartCursor),T.bind(T.cursor,"touchmove",T.ontouchmoveCursor),T.bind(T.cursor,"touchend",T.ontouchendCursor),T.cursorh&&T.bind(T.cursorh,"touchstart",(function(e){T.ontouchstartCursor(e,!0)})),T.cursorh&&T.bind(T.cursorh,"touchmove",T.ontouchmoveCursor),T.cursorh&&T.bind(T.cursorh,"touchend",T.ontouchendCursor)),_.emulatetouch||M.isandroid||M.isios?(T.bind(M.hasmousecapture?T.win:l,"mouseup",T.ontouchend),T.onclick&&T.bind(l,"click",T.onclick),_.cursordragontouch?(T.bind(T.cursor,"mousedown",T.onmousedown),T.bind(T.cursor,"mouseup",T.onmouseup),T.cursorh&&T.bind(T.cursorh,"mousedown",(function(e){T.onmousedown(e,!0)})),T.cursorh&&T.bind(T.cursorh,"mouseup",T.onmouseup)):(T.bind(T.rail,"mousedown",(function(e){e.preventDefault()})),T.railh&&T.bind(T.railh,"mousedown",(function(e){e.preventDefault()})))):(T.bind(M.hasmousecapture?T.win:l,"mouseup",T.onmouseup),T.bind(l,"mousemove",T.onmousemove),T.onclick&&T.bind(l,"click",T.onclick),T.bind(T.cursor,"mousedown",T.onmousedown),T.bind(T.cursor,"mouseup",T.onmouseup),T.railh&&(T.bind(T.cursorh,"mousedown",(function(e){T.onmousedown(e,!0)})),T.bind(T.cursorh,"mouseup",T.onmouseup)),!T.ispage&&_.enablescrollonselection&&(T.bind(T.win[0],"mousedown",T.onselectionstart),T.bind(l,"mouseup",T.onselectionend),T.bind(T.cursor,"mouseup",T.onselectionend),T.cursorh&&T.bind(T.cursorh,"mouseup",T.onselectionend),T.bind(l,"mousemove",T.onselectiondrag)),T.zoom&&(T.jqbind(T.zoom,"mouseenter",(function(){T.canshowonmouseevent&&T.showCursor(),T.rail.active=!0})),T.jqbind(T.zoom,"mouseleave",(function(){T.rail.active=!1,T.rail.drag||T.hideCursor()})))),_.enablemousewheel&&(T.isiframe||T.mousewheel(M.isie&&T.ispage?l:T.win,T.onmousewheel),T.mousewheel(T.rail,T.onmousewheel),T.railh&&T.mousewheel(T.railh,T.onmousewheelhr)),T.ispage||M.cantouch||/HTML|^BODY/.test(T.win[0].nodeName)||(T.win.attr("tabindex")||T.win.attr({tabindex:++r}),T.bind(T.win,"focus",(function(e){t=T.getTarget(e).id||T.getTarget(e)||!1,T.hasfocus=!0,T.canshowonmouseevent&&T.noticeCursor()})),T.bind(T.win,"blur",(function(e){t=!1,T.hasfocus=!1})),T.bind(T.win,"mouseenter",(function(e){o=T.getTarget(e).id||T.getTarget(e)||!1,T.hasmousefocus=!0,T.canshowonmouseevent&&T.noticeCursor()})),T.bind(T.win,"mouseleave",(function(e){o=!1,T.hasmousefocus=!1,T.rail.drag||T.hideCursor()}))),T.onkeypress=function(e){if(T.railslocked&&0===T.page.maxh)return!0;e=e||a.event;var r=T.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp))return!0;if(n(r).attr("contenteditable"))return!0;if(T.hasfocus||T.hasmousefocus&&!t||T.ispage&&!t&&!o){var i=e.keyCode;if(T.railslocked&&27!=i)return T.cancelEvent(e);var s=e.ctrlKey||!1,l=e.shiftKey||!1,c=!1;switch(i){case 38:case 63233:T.doScrollBy(72),c=!0;break;case 40:case 63235:T.doScrollBy(-72),c=!0;break;case 37:case 63232:T.railh&&(s?T.doScrollLeft(0):T.doScrollLeftBy(72),c=!0);break;case 39:case 63234:T.railh&&(s?T.doScrollLeft(T.page.maxw):T.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:T.doScrollBy(T.view.h),c=!0;break;case 34:case 63277:T.doScrollBy(-T.view.h),c=!0;break;case 36:case 63273:T.railh&&s?T.doScrollPos(0,0):T.doScrollTo(0),c=!0;break;case 35:case 63275:T.railh&&s?T.doScrollPos(T.page.maxw,T.page.maxh):T.doScrollTo(T.page.maxh),c=!0;break;case 32:_.spacebarenabled&&(l?T.doScrollBy(T.view.h):T.doScrollBy(-T.view.h),c=!0);break;case 27:T.zoomactive&&(T.doZoom(),c=!0)}if(c)return T.cancelEvent(e)}},_.enablekeyboard&&T.bind(l,M.isopera&&!M.isopera12?"keypress":"keydown",T.onkeypress),T.bind(l,"keydown",(function(e){e.ctrlKey&&(T.wheelprevented=!0)})),T.bind(l,"keyup",(function(e){e.ctrlKey||(T.wheelprevented=!1)})),T.bind(a,"blur",(function(e){T.wheelprevented=!1})),T.bind(a,"resize",T.onscreenresize),T.bind(a,"orientationchange",T.onscreenresize),T.bind(a,"load",T.lazyResize),M.ischrome&&!T.ispage&&!T.haswrapper){var L=T.win.attr("style"),P=parseFloat(T.win.css("width"))+1;T.win.css("width",P),T.synched("chromefix",(function(){T.win.attr("style",L)}))}if(T.onAttributeChange=function(e){T.lazyResize(T.isieold?250:30)},_.enableobserver&&(T.isie11||!1===m||(T.observerbody=new m((function(e){if(e.forEach((function(e){if("attributes"==e.type)return z.hasClass("modal-open")&&z.hasClass("modal-dialog")&&!n.contains(n(".modal-dialog")[0],T.doc[0])?T.hide():T.show()})),T.me.clientWidth!=T.page.width||T.me.clientHeight!=T.page.height)return T.lazyResize(30)})),T.observerbody.observe(l.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!T.ispage&&!T.haswrapper)){var C=T.win[0];!1!==m?(T.observer=new m((function(e){e.forEach(T.onAttributeChange)})),T.observer.observe(C,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),T.observerremover=new m((function(e){e.forEach((function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(T&&e.removedNodes[t]===C)return T.remove()}))})),T.observerremover.observe(C.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(T.bind(C,M.isie&&!M.isie9?"propertychange":"DOMAttrModified",T.onAttributeChange),M.isie9&&C.attachEvent("onpropertychange",T.onAttributeChange),T.bind(C,"DOMNodeRemoved",(function(e){e.target===C&&T.remove()})))}!T.ispage&&_.boxzoom&&T.bind(a,"resize",T.resizeZoom),T.istextarea&&(T.bind(T.win,"keydown",T.lazyResize),T.bind(T.win,"mouseup",T.lazyResize)),T.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var B=function(){var t;T.iframexd=!1;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){T.iframexd=!0,t=!1}if(T.iframexd)return"console"in a&&console.log("NiceScroll error: policy restriced iframe"),!0;if(T.forcescreen=!0,T.isiframe&&(T.iframe={doc:n(t),html:T.doc.contents().find("html")[0],body:T.doc.contents().find("body")[0]},T.getContentSize=function(){return{w:Math.max(T.iframe.html.scrollWidth,T.iframe.body.scrollWidth),h:Math.max(T.iframe.html.scrollHeight,T.iframe.body.scrollHeight)}},T.docscroll=n(T.iframe.body)),!M.isios&&_.iframeautoresize&&!T.isiframe){T.win.scrollTop(0),T.doc.height("");var o=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);T.doc.height(o)}T.lazyResize(30),T.css(n(T.iframe.body),e),M.isios&&T.haswrapper&&T.css(n(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?T.bind(this.contentWindow,"scroll",T.onscroll):T.bind(t,"scroll",T.onscroll),_.enablemousewheel&&T.mousewheel(t,T.onmousewheel),_.enablekeyboard&&T.bind(t,M.isopera?"keypress":"keydown",T.onkeypress),M.cantouch?(T.bind(t,"touchstart",T.ontouchstart),T.bind(t,"touchmove",T.ontouchmove)):_.emulatetouch&&(T.bind(t,"mousedown",T.ontouchstart),T.bind(t,"mousemove",(function(e){return T.ontouchmove(e,!0)})),_.grabcursorenabled&&M.cursorgrabvalue&&T.css(n(t.body),{cursor:M.cursorgrabvalue})),T.bind(t,"mouseup",T.ontouchend),T.zoom&&(_.dblclickzoom&&T.bind(t,"dblclick",T.doZoom),T.ongesturezoom&&T.bind(t,"gestureend",T.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout((function(){B.call(T.doc[0],!1)}),500),T.bind(this.doc,"load",B)}},this.showCursor=function(e,t){if(T.cursortimeout&&(clearTimeout(T.cursortimeout),T.cursortimeout=0),T.rail){if(T.autohidedom&&(T.autohidedom.stop().css({opacity:_.cursoropacitymax}),T.cursoractive=!0),T.rail.drag&&1==T.rail.drag.pt||(void 0!==e&&!1!==e&&(T.scroll.y=e/T.scrollratio.y|0),void 0!==t&&(T.scroll.x=t/T.scrollratio.x|0)),T.cursor.css({height:T.cursorheight,top:T.scroll.y}),T.cursorh){var o=T.hasreversehr?T.scrollvaluemaxw-T.scroll.x:T.scroll.x;T.cursorh.css({width:T.cursorwidth,left:!T.rail.align&&T.rail.visibility?o+T.rail.width:o}),T.cursoractive=!0}T.zoom&&T.zoom.stop().css({opacity:_.cursoropacitymax})}},this.hideCursor=function(e){T.cursortimeout||T.rail&&T.autohidedom&&(T.hasmousefocus&&"leave"===_.autohidemode||(T.cursortimeout=setTimeout((function(){T.rail.active&&T.showonmouseevent||(T.autohidedom.stop().animate({opacity:_.cursoropacitymin}),T.zoom&&T.zoom.stop().animate({opacity:_.cursoropacitymin}),T.cursoractive=!1),T.cursortimeout=0}),e||_.hidecursordelay)))},this.noticeCursor=function(e,t,o){T.showCursor(t,o),T.rail.active||T.hideCursor(e)},this.getContentSize=T.ispage?function(){return{w:Math.max(l.body.scrollWidth,l.documentElement.scrollWidth),h:Math.max(l.body.scrollHeight,l.documentElement.scrollHeight)}}:T.haswrapper?function(){return{w:T.doc[0].offsetWidth,h:T.doc[0].offsetHeight}}:function(){return{w:T.docscroll[0].scrollWidth,h:T.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!T||!T.win)return!1;var o=T.page.maxh,r=T.page.maxw,i=T.view.h,s=T.view.w;if(T.view={w:T.ispage?T.win.width():T.win[0].clientWidth,h:T.ispage?T.win.height():T.win[0].clientHeight},T.page=t||T.getContentSize(),T.page.maxh=Math.max(0,T.page.h-T.view.h),T.page.maxw=Math.max(0,T.page.w-T.view.w),T.page.maxh==o&&T.page.maxw==r&&T.view.w==s&&T.view.h==i){if(T.ispage)return T;var n=T.win.offset();if(T.lastposition){var l=T.lastposition;if(l.top==n.top&&l.left==n.left)return T}T.lastposition=n}return 0===T.page.maxh?(T.hideRail(),T.scrollvaluemax=0,T.scroll.y=0,T.scrollratio.y=0,T.cursorheight=0,T.setScrollTop(0),T.rail&&(T.rail.scrollable=!1)):(T.page.maxh-=_.railpadding.top+_.railpadding.bottom,T.rail.scrollable=!0),0===T.page.maxw?(T.hideRailHr(),T.scrollvaluemaxw=0,T.scroll.x=0,T.scrollratio.x=0,T.cursorwidth=0,T.setScrollLeft(0),T.railh&&(T.railh.scrollable=!1)):(T.page.maxw-=_.railpadding.left+_.railpadding.right,T.railh&&(T.railh.scrollable=_.horizrailenabled)),T.railslocked=T.locked||0===T.page.maxh&&0===T.page.maxw,T.railslocked?(T.ispage||T.updateScrollBar(T.view),!1):(T.hidden||(T.rail.visibility||T.showRail(),T.railh&&!T.railh.visibility&&T.showRailHr()),T.istextarea&&T.win.css("resize")&&"none"!=T.win.css("resize")&&(T.view.h-=20),T.cursorheight=Math.min(T.view.h,Math.round(T.view.h*(T.view.h/T.page.h))),T.cursorheight=_.cursorfixedheight?_.cursorfixedheight:Math.max(_.cursorminheight,T.cursorheight),T.cursorwidth=Math.min(T.view.w,Math.round(T.view.w*(T.view.w/T.page.w))),T.cursorwidth=_.cursorfixedheight?_.cursorfixedheight:Math.max(_.cursorminheight,T.cursorwidth),T.scrollvaluemax=T.view.h-T.cursorheight-(_.railpadding.top+_.railpadding.bottom),T.hasborderbox||(T.scrollvaluemax-=T.cursor[0].offsetHeight-T.cursor[0].clientHeight),T.railh&&(T.railh.width=T.page.maxh>0?T.view.w-T.rail.width:T.view.w,T.scrollvaluemaxw=T.railh.width-T.cursorwidth-(_.railpadding.left+_.railpadding.right)),T.ispage||T.updateScrollBar(T.view),T.scrollratio={x:T.page.maxw/T.scrollvaluemaxw,y:T.page.maxh/T.scrollvaluemax},T.getScrollTop()>T.page.maxh?T.doScrollTop(T.page.maxh):(T.scroll.y=T.getScrollTop()/T.scrollratio.y|0,T.scroll.x=T.getScrollLeft()/T.scrollratio.x|0,T.cursoractive&&T.noticeCursor()),T.scroll.y&&0===T.getScrollTop()&&T.doScrollTo(T.scroll.y*T.scrollratio.y|0),T)},this.resize=T.onResize;var q=0;this.onscreenresize=function(e){clearTimeout(q);var t=!T.ispage&&!T.haswrapper;t&&T.hideRails(),q=setTimeout((function(){T&&(t&&T.showRails(),T.resize()),q=0}),120)},this.lazyResize=function(e){return clearTimeout(q),e=isNaN(e)?240:e,q=setTimeout((function(){T&&T.resize(),q=0}),e),T},this.jqbind=function(e,t,o){T.events.push({e:e,n:t,f:o,q:!0}),n(e).on(t,o)},this.mousewheel=function(e,t,o){var r="jquery"in e?e[0]:e;if("onwheel"in l.createElement("div"))T._bind(r,"wheel",t,o||!1);else{var i=void 0!==l.onmousewheel?"mousewheel":"DOMMouseScroll";x(r,i,t,o||!1),"DOMMouseScroll"==i&&x(r,"MozMousePixelScroll",t,o||!1)}};var A=!1;if(M.haseventlistener){try{var O=Object.defineProperty({},"passive",{get:function(){A=!0}});a.addEventListener("test",null,O)}catch(e){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},a.constructor.prototype.addEventListener=l.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,o){this.attachEvent("on"+e,t)},a.constructor.prototype.removeEventListener=l.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,o){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return(e=e||a.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||a.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,o,r,i){var s=d[t]||!1;s||(s={a:[],l:[],f:function(e){for(var t=s.l,o=!1,r=t.length-1;r>=0;r--)if(!1===(o=t[r].call(e.target,e)))return!1;return o}},T.bind(e,t,s.f,r,i),d[t]=s),T.ispage?(s.a=[T.id].concat(s.a),s.l=[o].concat(s.l)):(s.a.push(T.id),s.l.push(o))},this.undelegate=function(e,t,o,r,i){var s=d[t]||!1;if(s&&s.l)for(var n=0,l=s.l.length;n<l;n++)s.a[n]===T.id&&(s.a.splice(n),s.l.splice(n),0===s.a.length&&(T._unbind(e,t,s.l.f),d[t]=null))},this.bind=function(e,t,o,r,i){var s="jquery"in e?e[0]:e;T._bind(s,t,o,r||!1,i||!1)},this._bind=function(e,t,o,r,i){T.events.push({e:e,n:t,f:o,b:r,q:!1}),A&&i?e.addEventListener(t,o,{passive:!1,capture:r}):e.addEventListener(t,o,r||!1)},this._unbind=function(e,t,o,r){d[t]?T.undelegate(e,t,o,r):e.removeEventListener(t,o,r)},this.unbindAll=function(){for(var e=0;e<T.events.length;e++){var t=T.events[e];t.q?t.e.unbind(t.n,t.f):T._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return T.showRail().showRailHr()},this.showRail=function(){return 0===T.page.maxh||!T.ispage&&"none"==T.win.css("display")||(T.rail.visibility=!0,T.rail.css("display","block")),T},this.showRailHr=function(){return T.railh&&(0===T.page.maxw||!T.ispage&&"none"==T.win.css("display")||(T.railh.visibility=!0,T.railh.css("display","block"))),T},this.hideRails=function(){return T.hideRail().hideRailHr()},this.hideRail=function(){return T.rail.visibility=!1,T.rail.css("display","none"),T},this.hideRailHr=function(){return T.railh&&(T.railh.visibility=!1,T.railh.css("display","none")),T},this.show=function(){return T.hidden=!1,T.railslocked=!1,T.showRails()},this.hide=function(){return T.hidden=!0,T.railslocked=!0,T.hideRails()},this.toggle=function(){return T.hidden?T.show():T.hide()},this.remove=function(){for(var e in T.stop(),T.cursortimeout&&clearTimeout(T.cursortimeout),T.delaylist)T.delaylist[e]&&h(T.delaylist[e].h);T.doZoomOut(),T.unbindAll(),M.isie9&&T.win[0].detachEvent("onpropertychange",T.onAttributeChange),!1!==T.observer&&T.observer.disconnect(),!1!==T.observerremover&&T.observerremover.disconnect(),!1!==T.observerbody&&T.observerbody.disconnect(),T.events=null,T.cursor&&T.cursor.remove(),T.cursorh&&T.cursorh.remove(),T.rail&&T.rail.remove(),T.railh&&T.railh.remove(),T.zoom&&T.zoom.remove();for(var t=0;t<T.saved.css.length;t++){var o=T.saved.css[t];o[0].css(o[1],void 0===o[2]?"":o[2])}T.saved=!1,T.me.data("__nicescroll","");var r=n.nicescroll;for(var i in r.each((function(e){if(this&&this.id===T.id){delete r[e];for(var t=++e;t<r.length;t++,e++)r[e]=r[t];--r.length&&delete r[r.length]}})),T)T[i]=null,delete T[i];T=null},this.scrollstart=function(e){return this.onscrollstart=e,T},this.scrollend=function(e){return this.onscrollend=e,T},this.scrollcancel=function(e){return this.onscrollcancel=e,T},this.zoomin=function(e){return this.onzoomin=e,T},this.zoomout=function(e){return this.onzoomout=e,T},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var o=n(t),r=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(r))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var o=n(t);if(/fixed|absolute/.test(o.css("position")))return o;var r=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight)return o;if(o.getNiceScroll().length>0)return o;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,o,r,i){if(T.onscrollstart){var s={type:"scrollstart",current:{x:e,y:t},request:{x:o,y:r},end:{x:T.newscrollx,y:T.newscrolly},speed:i};T.onscrollstart.call(T,s)}},this.triggerScrollEnd=function(){if(T.onscrollend){var e=T.getScrollLeft(),t=T.getScrollTop(),o={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};T.onscrollend.call(T,o)}};var R=0,I=0,H=0,D=1,Y=!1;if(this.onmousewheel=function(e){if(T.wheelprevented||T.locked)return!1;if(T.railslocked)return T.debounced("checkunlock",T.resize,250),!1;if(T.rail.drag)return T.cancelEvent(e);if("auto"===_.oneaxismousemode&&0!==e.deltaX&&(_.oneaxismousemode=!1),_.oneaxismousemode&&0===e.deltaX&&!T.rail.scrollable)return!T.railh||!T.railh.scrollable||T.onmousewheelhr(e);var t=f(),o=!1;if(_.preservenativescrolling&&T.checkarea+600<t&&(T.nativescrollingarea=T.isScrollable(e),o=!0),T.checkarea=t,T.nativescrollingarea)return!0;var r=k(e,!1,o);return r&&(T.checkarea=0),r},this.onmousewheelhr=function(e){if(!T.wheelprevented){if(T.railslocked||!T.railh.scrollable)return!0;if(T.rail.drag)return T.cancelEvent(e);var t=f(),o=!1;return _.preservenativescrolling&&T.checkarea+600<t&&(T.nativescrollingarea=T.isScrollable(e),o=!0),T.checkarea=t,!!T.nativescrollingarea||(T.railslocked?T.cancelEvent(e):k(e,!0,o))}},this.stop=function(){return T.cancelScroll(),T.scrollmon&&T.scrollmon.stop(),T.cursorfreezed=!1,T.scroll.y=Math.round(T.getScrollTop()*(1/T.scrollratio.y)),T.noticeCursor(),T},this.getTransitionSpeed=function(e){return 80+e/72*_.scrollspeed|0},_.smoothscroll)if(T.ishwscroll&&M.hastransition&&_.usetransition&&_.smoothscroll){var X="";this.resetTransition=function(){X="",T.doc.css(M.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var o=t?e:T.getTransitionSpeed(e),r=o+"ms";return X!==r&&(X=r,T.doc.css(M.prefixstyle+"transition-duration",r)),o},this.doScrollLeft=function(e,t){var o=T.scrollrunning?T.newscrolly:T.getScrollTop();T.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=T.scrollrunning?T.newscrollx:T.getScrollLeft();T.doScrollPos(o,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&u(t),T.showCursor(T.getScrollTop(),T.getScrollLeft()),T.notifyScrollEvent(T.win[0])};u(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,o){var r=T.getScrollTop(),i=T.getScrollLeft();if(((T.newscrolly-r)*(t-r)<0||(T.newscrollx-i)*(e-i)<0)&&T.cancelScroll(),_.bouncescroll?(t<0?t=t/2|0:t>T.page.maxh&&(t=T.page.maxh+(t-T.page.maxh)/2|0),e<0?e=e/2|0:e>T.page.maxw&&(e=T.page.maxw+(e-T.page.maxw)/2|0)):(t<0?t=0:t>T.page.maxh&&(t=T.page.maxh),e<0?e=0:e>T.page.maxw&&(e=T.page.maxw)),T.scrollrunning&&e==T.newscrollx&&t==T.newscrolly)return!1;T.newscrolly=t,T.newscrollx=e;var s=T.getScrollTop(),n=T.getScrollLeft(),l={};l.x=e-n,l.y=t-s;var a=0|Math.sqrt(l.x*l.x+l.y*l.y),c=T.prepareTransition(a);T.scrollrunning||(T.scrollrunning=!0,T.triggerScrollStart(n,s,e,t,c),T.cursorupdate.start()),T.scrollendtrapped=!0,M.transitionend||(T.scrollendtrapped&&clearTimeout(T.scrollendtrapped),T.scrollendtrapped=setTimeout(T.onScrollTransitionEnd,c)),T.setScrollTop(T.newscrolly),T.setScrollLeft(T.newscrollx)},this.cancelScroll=function(){if(!T.scrollendtrapped)return!0;var e=T.getScrollTop(),t=T.getScrollLeft();return T.scrollrunning=!1,M.transitionend||clearTimeout(M.transitionend),T.scrollendtrapped=!1,T.resetTransition(),T.setScrollTop(e),T.railh&&T.setScrollLeft(t),T.timerscroll&&T.timerscroll.tm&&clearInterval(T.timerscroll.tm),T.timerscroll=!1,T.cursorfreezed=!1,T.cursorupdate.stop(),T.showCursor(e,t),T},this.onScrollTransitionEnd=function(){if(T.scrollendtrapped){var e=T.getScrollTop(),t=T.getScrollLeft();if(e<0?e=0:e>T.page.maxh&&(e=T.page.maxh),t<0?t=0:t>T.page.maxw&&(t=T.page.maxw),e!=T.newscrolly||t!=T.newscrollx)return T.doScrollPos(t,e,_.snapbackspeed);T.scrollrunning&&T.triggerScrollEnd(),T.scrollrunning=!1,T.scrollendtrapped=!1,T.resetTransition(),T.timerscroll=!1,T.setScrollTop(e),T.railh&&T.setScrollLeft(t),T.cursorupdate.stop(),T.noticeCursor(!1,e,t),T.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var o=T.scrollrunning?T.newscrolly:T.getScrollTop();T.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=T.scrollrunning?T.newscrollx:T.getScrollLeft();T.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var r=T.getScrollTop(),i=T.getScrollLeft();((T.newscrolly-r)*(t-r)<0||(T.newscrollx-i)*(e-i)<0)&&T.cancelScroll();var s=!1;if(T.bouncescroll&&T.rail.visibility||(t<0?(t=0,s=!0):t>T.page.maxh&&(t=T.page.maxh,s=!0)),T.bouncescroll&&T.railh.visibility||(e<0?(e=0,s=!0):e>T.page.maxw&&(e=T.page.maxw,s=!0)),T.scrollrunning&&T.newscrolly===t&&T.newscrollx===e)return!0;T.newscrolly=t,T.newscrollx=e,T.dst={},T.dst.x=e-i,T.dst.y=t-r,T.dst.px=i,T.dst.py=r;var n=0|Math.sqrt(T.dst.x*T.dst.x+T.dst.y*T.dst.y),l=T.getTransitionSpeed(n);T.bzscroll={};var a=s?1:.58;T.bzscroll.x=new C(i,T.newscrollx,l,0,0,a,1),T.bzscroll.y=new C(r,T.newscrolly,l,0,0,a,1),f();var c=function(){if(T.scrollrunning){var e=T.bzscroll.y.getPos();T.setScrollLeft(T.bzscroll.x.getNow()),T.setScrollTop(T.bzscroll.y.getNow()),e<=1?T.timer=u(c):(T.scrollrunning=!1,T.timer=0,T.triggerScrollEnd())}};T.scrollrunning||(T.triggerScrollStart(i,r,e,t,l),T.scrollrunning=!0,T.timer=u(c))},this.cancelScroll=function(){return T.timer&&h(T.timer),T.timer=0,T.bzscroll=!1,T.scrollrunning=!1,T};else this.doScrollLeft=function(e,t){var o=T.getScrollTop();T.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=T.getScrollLeft();T.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var r=e>T.page.maxw?T.page.maxw:e;r<0&&(r=0);var i=t>T.page.maxh?T.page.maxh:t;i<0&&(i=0),T.synched("scroll",(function(){T.setScrollTop(i),T.setScrollLeft(r)}))},this.cancelScroll=function(){};this.doScrollBy=function(e,t){S(0,e)},this.doScrollLeftBy=function(e,t){S(e,0)},this.doScrollTo=function(e,t){var o=t?Math.round(e*T.scrollratio.y):e;o<0?o=0:o>T.page.maxh&&(o=T.page.maxh),T.cursorfreezed=!1,T.doScrollTop(e)},this.checkContentSize=function(){var e=T.getContentSize();e.h==T.page.h&&e.w==T.page.w||T.resize(!1,e)},T.onscroll=function(e){T.rail.drag||T.cursorfreezed||T.synched("scroll",(function(){T.scroll.y=Math.round(T.getScrollTop()/T.scrollratio.y),T.railh&&(T.scroll.x=Math.round(T.getScrollLeft()/T.scrollratio.x)),T.noticeCursor()}))},T.bind(T.docscroll,"scroll",T.onscroll),this.doZoomIn=function(e){if(!T.zoomactive){T.zoomactive=!0,T.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],o=T.win[0].style;for(var r in t){var i=t[r];T.zoomrestore.style[i]=void 0!==o[i]?o[i]:""}T.zoomrestore.style.width=T.win.css("width"),T.zoomrestore.style.height=T.win.css("height"),T.zoomrestore.padding={w:T.win.outerWidth()-T.win.width(),h:T.win.outerHeight()-T.win.height()},M.isios4&&(T.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),T.win.css({position:M.isios4?"absolute":"fixed",top:0,left:0,zIndex:s+100,margin:0});var n=T.win.css("backgroundColor");return(""===n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&T.win.css("backgroundColor","#fff"),T.rail.css({zIndex:s+101}),T.zoom.css({zIndex:s+102}),T.zoom.css("backgroundPosition","0 -18px"),T.resizeZoom(),T.onzoomin&&T.onzoomin.call(T),T.cancelEvent(e)}},this.doZoomOut=function(e){if(T.zoomactive)return T.zoomactive=!1,T.win.css("margin",""),T.win.css(T.zoomrestore.style),M.isios4&&c.scrollTop(T.zoomrestore.scrollTop),T.rail.css({"z-index":T.zindex}),T.zoom.css({"z-index":T.zindex}),T.zoomrestore=!1,T.zoom.css("backgroundPosition","0 0"),T.onResize(),T.onzoomout&&T.onzoomout.call(T),T.cancelEvent(e)},this.doZoom=function(e){return T.zoomactive?T.doZoomOut(e):T.doZoomIn(e)},this.resizeZoom=function(){if(T.zoomactive){var e=T.getScrollTop();T.win.css({width:c.width()-T.zoomrestore.padding.w+"px",height:c.height()-T.zoomrestore.padding.h+"px"}),T.onResize(),T.setScrollTop(Math.min(T.page.maxh,e))}},this.init(),n.nicescroll.push(this)},y=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,o){t.stop(),t.steptime=0,t.lasttime=f(),t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=o,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,o){var r=f();t.steptime=r-t.lasttime,t.lasttime=r;var i=o-t.lasty,s=e-t.lastx,n=t.nc.getScrollTop()+i,l=t.nc.getScrollLeft()+s;t.snapx=l<0||l>t.nc.page.maxw,t.snapy=n<0||n>t.nc.page.maxh,t.speedx=s,t.speedy=i,t.lastx=e,t.lasty=o},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,o){var r=!1;o<0?(o=0,r=!0):o>t.nc.page.maxh&&(o=t.nc.page.maxh,r=!0),e<0?(e=0,r=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,r=!0),r?t.nc.doScrollPos(e,o,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var o=f(),r=e?o+e:t.lasttime,i=t.nc.getScrollLeft(),s=t.nc.getScrollTop(),n=t.nc.page.maxh,l=t.nc.page.maxw;t.speedx=l>0?Math.min(60,t.speedx):0,t.speedy=n>0?Math.min(60,t.speedy):0;var a=r&&o-r<=60;(s<0||s>n||i<0||i>l)&&(a=!1);var c=!(!t.speedy||!a)&&t.speedy,d=!(!t.speedx||!a)&&t.speedx;if(c||d){var u=Math.max(16,t.steptime);if(u>50){var h=u/50;t.speedx*=h,t.speedy*=h,u=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,m=t.lastscrolly,g=function(){var e=f()-o>600?.04:.02;t.speedx&&(p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p,(p<0||p>l)&&(e=.1)),t.speedy&&(m=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=m,(m<0||m>n)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",(function(){t.speedx&&(t.nc.getScrollLeft(),t.chkx=p,t.nc.setScrollLeft(p)),t.speedy&&(t.nc.getScrollTop(),t.chky=m,t.nc.setScrollTop(m)),t.timer||(t.nc.hideCursor(),t.doSnapy(p,m))})),t.demulxy<1?t.timer=setTimeout(g,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,m))};g()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,o){var r=n.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():x.call(e)},set:function(e,t){var o=n.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(n.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each((function(){var t=n.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(n(this),e)}))};var S=e.fn.scrollLeft;n.cssHooks.pageXOffset={get:function(e,t,o){var r=n.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():S.call(e)},set:function(e,t){var o=n.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(t)):S.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(n.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():S.call(this)}return this.each((function(){var t=n.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):S.call(n(this),e)}))};var k=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return n.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var o=0;o<e.length;o++){var r=n.data(e[o],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};!function(e,t,o){for(var r=0,i=t.length;r<i;r++)o(e,t[r])}(k.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],(function(e,t){e[t]=function(){var e=arguments;return this.each((function(){this[t].apply(this,e)}))}})),e.fn.getNiceScroll=function(e){return void 0===e?new k(this):this[e]&&n.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==n.data(e,"__nicescroll")},n.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var o=new k;return this.each((function(){var r=n(this),i=n.extend({},t);if(e){var s=n(e);i.doc=s.length>1?n(e,r):s,i.win=r}!("doc"in i)||"win"in i||(i.win=r);var l=r.data("__nicescroll")||!1;l||(i.doc=i.doc||r,l=new b(i,r),r.data("__nicescroll",l)),o.push(l)})),1===o.length?o[0]:o},a.NiceScroll={getjQuery:function(){return e}},n.nicescroll||(n.nicescroll=new k,n.nicescroll.options=g)})),ibg();let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)},tabs=document.querySelectorAll("._tabs");for(let e=0;e<tabs.length;e++){let t=tabs[e],o=t.querySelectorAll("._tabs-item"),r=t.querySelectorAll("._tabs-content");for(let e=0;e<o.length;e++){let t=o[e];t.addEventListener("click",(function(i){for(let e=0;e<o.length;e++){o[e].classList.remove("_active"),r[e].classList.remove("_active")}t.classList.add("_active"),r[e].classList.add("_active"),i.preventDefault()}))}}let tabsFilter=document.querySelectorAll(".filter");for(let e=0;e<tabsFilter.length;e++){let t=tabsFilter[e],o=t.querySelectorAll(".filter__tab"),r=t.querySelectorAll(".filter__tab-content"),i=document.querySelector("._auto"),s=document.querySelector(".filter__tab-slider");for(let e=0;e<o.length;e++){let t=o[e];t.addEventListener("click",(function(n){for(let e=0;e<o.length;e++){o[e].classList.remove("_active"),r[e].classList.remove("_active")}t.classList.add("_active"),r[e].classList.add("_active"),n.preventDefault(),i.classList.contains("_active")?s.classList.remove("_active"):s.classList.add("_active")}))}}let favorites=document.querySelectorAll(".card__add-to-favorites");for(let e=0;e<favorites.length;e++){const t=favorites[e];t.addEventListener("click",(function(e){t.classList.toggle("added")}))}let selector=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");im.mask(selector);let validateForms=function(e,t){new window.JustValidate(e,{rules:t})};document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".hero__menu-line"),t=document.querySelectorAll(".hero__menu-item");e.style.width=t[0].offsetWidth+"px",t.forEach(o=>{o.addEventListener("mouseenter",t=>{e.style.width=t.currentTarget.offsetWidth+"px",e.style.left=t.currentTarget.offsetLeft+"px"}),o.addEventListener("mouseleave",()=>{e.style.width=t[0].offsetWidth+"px",e.style.left="0px"})})});let items=document.querySelectorAll(".about__item");var index=1;let counters=document.querySelectorAll(".about__counter");for(let e=0;e<items.length;e++){counters[e].innerHTML=index,index+=1}$((function(){$(".filter__select").select2({width:"100%",allowClear:!0,searchInputPlaceholder:""}).on("select2:unselecting",(function(){$(this).data("unselecting",!0)})).on("select2:opening",(function(e){$(this).data("unselecting")&&($(this).removeData("unselecting"),e.preventDefault())})).on("select2:open",(function(e){$(".select2-results__options").niceScroll({cursorcolor:"#ff8200",cursorwidth:"5px",autohidemode:!1,smoothscroll:!0,cursorborder:"none",horizrailenabled:!1})})).on("select2:open",(function(e){$(".select2-search input").attr("readonly",!0)})),$("body").on("click",".select2-search input",(function(){$(this).attr("readonly",!1)})),$(".top-header__select").select2({width:"150px",minimumResultsForSearch:1/0,dropdownCssClass:"city-dropdown"}),$(".bottom-header__dropdown-btn").on("click",(function(){$(this).toggleClass("_active"),$(".bottom-header__dropdown-list").animate({height:"toggle"},300)})),$(document).click((function(e){e.stopPropagation(),0===$(".bottom-header__dropdown").has(e.target).length&&($(".bottom-header__dropdown-list").slideUp(300),$(".bottom-header__dropdown-btn").removeClass("_active"))})),window.addEventListener("scroll",(function(e){let t=document.querySelector(".header"),o=t.offsetTop+t.offsetHeight,r=document.querySelector(".scroll-header");window.pageYOffset>=o?r.classList.add("visible"):window.pageYOffset<o&&r.classList.remove("visible")})),$(".modal-login").magnificPopup({type:"inline",preloader:!1,focus:".modal__login",closeOnBgClick:!1,callbacks:{beforeOpen:function(){$("body").addClass("mfp-active"),$(window).width()<700?this.st.focus=!1:this.st.focus="#name"},beforeClose:function(){$("body").removeClass("mfp-active")}}}),$(".modal__switcher").click((function(){$(this).toggleClass("_register"),$(this).hasClass("_register")?($(".modal__tooltip-text").text("  ?"),$(".modal__switcher-title").text("")):($(".modal__tooltip-text").text(" ?"),$(".modal__switcher-title").text("   ")),$(".modal__module").animate({height:"toggle","padding-top":"toggle","padding-bottom":"toggle",opacity:"toggle"},"slow")}));let e=document.querySelectorAll(".modal__show"),t=document.querySelectorAll(".modal__password");for(let o=0;o<e.length;o++){const r=e[o];r.addEventListener("click",(function(){r.classList.toggle("_active");let e=t[o];"password"==e.type?e.type="text":e.type="password"}))}$(".modal-btn").magnificPopup({type:"inline",preloader:!1,callbacks:{beforeOpen:function(){$("body").addClass("mfp-active"),$(window).width()<700?this.st.focus=!1:this.st.focus="#name"},beforeClose:function(){$("body").removeClass("mfp-active")}}})})),function(){let e=[],t=document.querySelectorAll("[data-da]"),o=[],r=[];if(t.length>0){let a=0;for(let r=0;r<t.length;r++){const i=t[r],l=i.getAttribute("data-da");if(""!=l){const t=l.split(","),r=t[1]?t[1].trim():"last",c=t[2]?t[2].trim():"767",d="min"===t[3]?t[3].trim():"max",u=document.querySelector("."+t[0].trim());t.length>0&&u&&(i.setAttribute("data-da-index",a),e[a]={parent:i.parentNode,index:(s=i,n=void 0,n=Array.prototype.slice.call(s.parentNode.children),n.indexOf(s))},o[a]={element:i,destination:document.querySelector("."+t[0].trim()),place:r,breakpoint:c,type:d},a++)}}(i=o).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),i.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<o.length;e++){const t=o[e],i=t.breakpoint,s=t.type;r.push(window.matchMedia("("+s+"-width: "+i+"px)")),r[e].addListener(l)}}var i,s,n;function l(e){for(let e=0;e<o.length;e++){const t=o[e],i=t.element,s=t.destination,n=t.place,l="_dynamic_adapt_"+t.breakpoint;if(r[e].matches){if(!i.classList.contains(l)){let e=c(s)[n];"first"===n?e=c(s)[0]:"last"===n&&(e=c(s)[c(s).length]),s.insertBefore(i,s.children[e]),i.classList.add(l)}}else i.classList.contains(l)&&(a(i),i.classList.remove(l))}}function a(t){const o=t.getAttribute("data-da-index"),r=e[o],i=r.parent,s=r.index,n=c(i,!0)[s];i.insertBefore(t,i.children[n])}function c(e,t){const o=e.children,r=[];for(let e=0;e<o.length;e++){const i=o[e];(t||null==i.getAttribute("data-da"))&&r.push(e)}return r}l()}();
//# sourceMappingURL=app.min.js.map
